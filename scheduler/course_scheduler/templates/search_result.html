<span id={{searchid}}></span>

{% if classes|length > 0 %}
<script>
function Add(eventID, studentID)
{
	$.post("/scheduler/add_course/", { 'eventID' : eventID, 'studentID' : studentID }, AddSuccess);	
}

function AddSuccess(data, textState, jqXHR)
{
	var button = document.getElementById("button-".concat(new String(data.eventID)));
	button.className = "btn btn-danger btn-xs";
	button.innerHtml = "Remove";
}

function Remove(eventID, studentID)
{
	$.post("/scheduler/remove_course/", { 'eventID' : eventID, 'studentID' : studentID }, RemoveSuccess);	
}

function AddOrRemove(eventID, studentID, AddOrRemove)
{
	if (AddOrRemove === "Remove")
	{
		Add(eventID, studentID);
	}
	else if (AddOrRemove === "Add")
	{
		Remove(eventID, studentID);
	}
	else
	{
		alert("uh oh");
	}
}

function RemoveSuccess(data, textState, jqXHR)
{
	var button = document.getElementById("button-".concat(new String(data.eventID)));
	button.className = "btn btn-success btn-xs";
	button.innerHtml = "Add";
}

function setRemoveButton(eventID, stduentID)
{
	var button = button = $("<button>");
	button.addClass("btn btn-danger btn-xs");
	button.attr({
		type: "button"
	});
	button.text("Remove");
	button.on("click", function() { alert('hey');});
	$("#button-".concat(data.eventID)).html($("<div>").append(button).clone().html());
}

function setAddButton(eventID, stduentID)
{
	var button = button = $("<button>");
	button.addClass("btn btn-danger btn-xs");
	button.attr({
		type: "button"
	});
	button.text("Add");
	button.on("click", function() { alert('hey');});
	$("#button-".concat(data.eventID)).html($("<div>").append(button).clone().html());
}


</script>
	{% for result, inSchedule in classes.iteritems %}
		<div class="well well-sm result-well panel panel-default">
			<div class="panel-body no-vertical-padding">
			<div class="col-sm-8">
				<div class="row">
				{{result.meeting.meeting_class.dept}} {{result.meeting.meeting_class.class_number}}
				</div>
				<div class="row">
				{{result.meeting.recur_type}} {{result.meeting.start_time}} - {{result.meeting.end_time}}
				</div>
			</div>

			<div class="col-sm-4">
				{% if inSchedule %}				
				<button id="button-{{result.meeting.id}}" type="button" class="btn btn-danger btn-xs" onclick="AddOrRemove('{{result.meeting.id}}', '{{student_id}}', this.innerHtml)">Remove</button>
				{% else %}
				<button type="button" class="btn btn-success btn-xs" onclick="Add('{{result.meeting.id}}', '{{student_id}}, this.innerHtml')">Add</button>
				{% endif %}
				<div class="row">
				<button type="button" class="btn btn-info btn-xs">Info</button>
				
				</div>
			</div>
			</div>
		</div>
		
	{% endfor %}
{% else %}
	<div><h4>NO RESULTS FOUND</h4></div>
{% endif %}
